mode: rule
log-level: info
host:
  services.googleapis.cn: 216.58.200.67
  www.google.cn: 216.58.200.67
dns:
  default-nameserver:
    - 223.5.5.5
    - 1.0.0.1
    - system
  nameserver:
     # ä¸å»ºè®®é…ç½®è¶…è¿‡ 2 ä¸ª DNS æœåŠ¡å™¨ï¼Œä¼šå¢åŠ ç³»ç»ŸåŠŸè€—
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    - quic://dns.adguard.com:853
    - doq://test.dns.nextdns.io:853
    - system # ä½¿ç”¨ iOS ç³»ç»Ÿ DNS
  fake-ip-filter:
    - "*.lan"
    - stun.*.*.*
    - stun.*.*
    - time.windows.com
    - time.nist.gov
    - time.apple.com
    - time.asia.apple.com
    - "*.ntp.org.cn"
    - "*.openwrt.pool.ntp.org"
    - time1.cloud.tencent.com
    - time.ustc.edu.cn
    - pool.ntp.org
    - ntp.ubuntu.com
    - ntp.aliyun.com
    - ntp1.aliyun.com
    - ntp2.aliyun.com
    - ntp3.aliyun.com
    - ntp4.aliyun.com
    - ntp5.aliyun.com
    - ntp6.aliyun.com
    - ntp7.aliyun.com
    - time1.aliyun.com
    - time2.aliyun.com
    - time3.aliyun.com
    - time4.aliyun.com
    - time5.aliyun.com
    - time6.aliyun.com
    - time7.aliyun.com
    - "*.time.edu.cn"
    - time1.apple.com
    - time2.apple.com
    - time3.apple.com
    - time4.apple.com
    - time5.apple.com
    - time6.apple.com
    - time7.apple.com
    - time1.google.com
    - time2.google.com
    - time3.google.com
    - time4.google.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - localhost.ptlogin2.qq.com
    - "*.*.*.srv.nintendo.net"
    - "*.*.stun.playstation.net"
    - xbox.*.*.microsoft.com
    - "*.ipv6.microsoft.com"
    - "*.*.xboxlive.com"
    - speedtest.cros.wr.pvp.net
    # from: https://github.com/Kr328/ClashForAndroid/blob/ffa559a57102ed8bc20eba41aa236a7764741bf9/core/src/main/golang/native/config/defaults.go#L10
    # Stun Services
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    # Google Voices
    - "lens.l.google.com"
    # Nintendo Switch
    - "*.n.n.srv.nintendo.net"
    # PlayStation
    - "+.stun.playstation.net"
    # XBox
    - "xbox.*.*.microsoft.com"
    - "*.*.xboxlive.com"
    # Microsoft
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
    # Bilibili CDN
    - "*.mcdn.bilivideo.cn"
http:
  url-rewrite:
    - ^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302
script:
  shortcuts:
    quic: network == 'udp' and dst_port == 443
proxies:
  # shadowsocks
  # æ”¯æŒåŠ å¯†æ–¹å¼ï¼š
  #   aes-128-gcm aes-192-gcm aes-256-gcm
  #   aes-128-cfb aes-192-cfb aes-256-cfb
  #   aes-128-ctr aes-192-ctr aes-256-ctr
  #   rc4-md5 chacha20 chacha20-ietf xchacha20
  #   chacha20-ietf-poly1305 xchacha20-ietf-poly1305
  - name: 'ğŸ‡­ğŸ‡° Hong Kong 01'
    type: trojan
    server: mfpsgcs.qqngzh.xyz
    port: 23383
    password: 47438165-172c-4f93-9ec2-8984202e2cb8
    sni: v1-dy.ixigua.com
    skip-cert-verify: true
    udp: true
#è¿œç¨‹è§„åˆ™é›†åˆ
rule-providers:
  å…¨çƒåŠ é€Ÿ:
    behavior: classical
    interval: 86400
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyGFWlist.yaml
  ç½‘é£ä¸“çº¿:
    behavior: classical
    interval: 86400
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Video/Netflix.yaml
#ç­–ç•¥ç»„
proxy-groups:
  - name: 'èŠ‚ç‚¹é€‰æ‹©'
    type: select
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
      - ğŸ‡­ğŸ‡° Hong Kong 01
      - UseProvider
  - name: 'è‡ªåŠ¨é€‰æ‹©'
    type: url-test
    icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/mini/Available.png
    interval: 600
    url: http://cp.cloudflare.com/generate_204
    use: 
      - Nexitally
  - name: 'ç½‘é£ä¸“çº¿'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Netflix.png
    interval: 600
    url: http://cp.cloudflare.com/generate_204
    use: 
      - èŠ‚ç‚¹é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
#èŠ‚ç‚¹ç­›é€‰
  - name: 'é¦™æ¸¯èŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
    filter: 'æ¸¯|HK|Hong Kong'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
  - name: 'æ—¥æœ¬èŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
    filter: 'æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
  - name: 'ç¾å›½èŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
    filter: 'ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
  - name: 'å°æ¹¾èŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
    filter: 'å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
  - name: 'ç‹®åŸèŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
    filter: 'æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
  - name: 'éŸ©å›½èŠ‚ç‚¹'
    type: url-test
    icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png
    filter: 'KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“'
    interval: 300
    url: http://www.gstatic.com/generate_204
    tolerance: 50
    use: 
      - Nexitally
#å…¨éƒ¨èŠ‚ç‚¹
  - name: UseProvider
    type: select
    use:
      - Nexitally
    proxies:
      - è‡ªåŠ¨é€‰æ‹©
      - DIRECT
  # select ç”¨æ¥å…è®¸ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹© ä»£ç†æœåŠ¡å™¨ æˆ– æœåŠ¡å™¨ç»„
  # æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ RESTful API å»åˆ‡æ¢æœåŠ¡å™¨ï¼Œè¿™ç§æ–¹å¼æ¨èåœ¨ GUI ä¸­ä½¿ç”¨
  - name: Proxy
    type: select
    proxies:
      - ğŸ‡­ğŸ‡° Hong Kong 01
      - è‡ªåŠ¨é€‰æ‹©
proxy-providers:
  Nexitally:
    url: https://naixisubs.com/downloadConfig/Clash.aspx?t=trojan&eq=windows&urk=47438165-172c-4f93-9ec2-8984202e2cb8
    interval: 3600
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
#è§„åˆ™å¯¹åº”ç­–ç•¥
rules:
  - SCRIPT,quic,REJECT
  - RULE-SET,å…¨çƒåŠ é€Ÿ,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ç½‘é£ä¸“çº¿,ç½‘é£ä¸“çº¿

  
